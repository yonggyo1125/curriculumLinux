# 리눅스 기본 개념

## 에디터 사용

- Windows의 메모장처럼 X 윈도에서 제공하는 편리한 에디터로 gedit이 있다. 터미널에서 간단히gedit 파일_이름 명령을 입력하면 해당 파일을 편집할 수 있다.

- 이보다 더 전통적으로 사용되어 온 에디터로는 vi 에디터가 있다. 그런데 유닉스/리눅스를 입문하는사용자가 vi 에디터를 처음 사용하면 좀 당황하게 된다. vi는 'visual'의 약어인데 그다지 비주얼적으로 느껴지지 않기 때문이다. 하지만 vi 에디터는 모든 유닉스/리눅스 시스템에 기본으로 포함되어있으며 반드시 사용할 수 있어야 하므로 잠깐 시간을 내서 사용해보자.

> 텍스트 모드인 Server(B)의 경우 gedit을 사용할 수 없으므로 vi 에디터를 꼭 사용할 수 있어야 한다.

### 실습1
- 리눅스에서 자주 사용되는 에디터를 사용하자.

- step0
	- Server를 사용하자.
	- 바탕 화면 왼쪽 위에서 [현재 활동] →[터미널]을 선택해 터미널을 연다.

- step1
	- 터미널에서 gedit 명령을 입력하자.
	-  에디터가 열리면 아무 글자나 입력한다(한/영 전환은 [Shift] + [Space]를 누른다).
	- 오른쪽 위의 \<저장\>을 클릭해서 적당한 이름을 입력하고, 저장 위치를 [홈] 폴더로 선택한 후 \<저장\>을 클릭해 저장한다.
	- 현재 사용자는 root 사용자인데, root 사용자의 홈 폴더인 "/root"에 저장한 것이다. 만약 centos 사용자라면 홈 폴더는 "/home/centos" 폴더가 된다.
	- gedit의 오른쪽 위 \<X\>를 클릭해서 gedit을 종료한다. 그리고 터미널에서 gedit "/root/test.txt" 명령을 입력하면 기존 파일이 열릴 것이다. 앞서 설명한 것처럼 gedit은 Windows의 메모장과 비슷한 용도로 사용하면 된다. 다시 gedit 을 종료한다.
	
- step2
	- 이번에는 vi 에디터를 사용해보자. 우선 터미널에서 vi 명령을 입력하면 다음과 같이 실행된다.
	-  우선 vi 에디터를 종료해보자. [Esc]를 누른 후 'q'를 입력하고 [Enter]를 누르면 종료된다. 입력 시 화면 왼쪽 아래에 입력하는 글자가 보일 것이다. 이렇게 작동하는 것을 'ex 모드' 또는 '라인 명령 모드'라고 부른다.
	- 이번에는 vi 에디터로 새로운 파일을 만들어보자. vi new.txt 명령을 입력하면 빈 화면이 열리고 왼쪽 아래에 'new.txt[New File]'이라는 문구가 보인다 (new.txt 파일이 이미 존재하면 그 파일을 열어서 보여준다). 이 상태를 '명령 모드'라고 한다. 아직 글자를 입력할 수는 없으며, vi 에디터로 어떤 일을 하게 될지 명령을 기다린다.
	- 그 상태에서 "I" 또는 "A"를 누른다(이는 글자를 입력 Insert하거나 추가 Append하겠다는 명령을 내린 것이다). 그러면 왼쪽 아래에 '-- INSERT --'라고 표시되고 글자를 입력할 수 있다. 이 상태를 입력 모드'라고 한다. 적절히 글자를 입력해보자.
	
	- 글자를 모두 입력했으면 저장하고 vi 에디터를 종료한다. 우선 글자를 입력하는 '입력 모드'에서 Esc를 누르면 '명령 모드'가 나온다. 화면에서는 왼쪽 아래에 '-- INSERT --' 라는 표시가 없어질 뿐 별다른 변화가 보이지 않는다.
	- 그리고 'wq' 를를 입력해 Enter를 누르면 저장하고 종료하게 된다.

	- vi 에디터 사용법 개요도
	
	![image1](https://raw.githubusercontent.com/yonggyo1125/curriculumLinux/master/Linux1/4%EC%9D%BC%EC%B0%A8(3h)%20-%20%EB%A6%AC%EB%88%85%EC%8A%A4%20%EA%B8%B0%EB%B3%B8%20%EA%B0%9C%EB%85%90/images/image1.png)
	
- step3
	- 이번에는 vi 에디터를 실행하고 글자를 입력한 후 입력한 내용을 test2.txt라는 파일에 저장하는 것을 연습한다.
	- 터미널에서 vi 명령을 입력한다. 그러면 상기 그림의 명령 모드로 진입한다
	- 글자를 입력하려면 입력 모드로 전환해야 하므로 "I" 또는 "A"를 누른다. 그러면 입력 모드로 들어간다. 왼쪽 아래에 '-- INSERT --'가 보일 것이다. 
	- 필요한 내용을 모두 입력한다.
	- 입력이 끝났으면 "Esc"를 눌러서 명령 모드로 빠져나온다. 왼쪽 아래에 '--  INSERT --'가 없어진다.
	- 내용을 저장하기 위해 ex 모드로 들어가는 ":" 을 누르고(왼쪽 아래에 콜론이 보인다), w test2.txt를 입력한 후 "Enter"를 누른다(왼쪽 아래에 'test2.txt [New] 2L, 25C written'이라는 문구가 보인다. 이는 2줄, 25문자가 저장되었다는 의미다). 이 상태는 ex 모드에서 [Enter]입력했으므로 다시 명령 모드로 돌아온 것이다.
	- 모든 작업을 마쳤으므로 vi 에디터를 종료해야 한다. 다시 ex 모드로 가기 위해 ':q!'를 입력한 후 "Enter"를 누른다. 'q!'의 의미는 기존에 변경된 내용은 무시하고 종료하라는 의미다. 바로 앞에서 저장한 후 변경된 것이 없으므로 이번에는 그냥 'q'라고만 입력해도 된다.
	
- step4
	- 이번에는 더 간단하게 텍스트를 입력한 다음 파일을 저장하고 바로 종료하는 작업을 수행해보자.
	- 터미널에서 vi 명령을 입력한다.
	- "I" 또는 "A"를 입력한 후 문서에 필요한 내용을 입력한다.
	- "Esc"를 누른 후 ':wq test3.txt'를 입력하고 [Enter]를 누르면 저장과 동시에 종료된다. 생각보다 간단하다.

- step5
	- 이번에는 기존 파일을 열어서 수정하고 저장해보자.
	- 터미널에서 vi test3.txt 명령을 입력하면 기존 파일이 열린다.
	- "I" 또는 "A"를 누른 후 문서를 수정하거나 추가한다.
	- "Esc"를 누른 후 ':wq test3.txt'를 입력하고 "Enter"를 누르면 저장과 동시에 종료된다.

- step6
	- 시존 파일을 열어서 수정했ㅎ지만 실수로 잘못 수정했다고 가정하고, 이번에는 저장하지 말고 그냥 종료해보자
	- 터미널에 "vi test3.txt" 명령을 입력한다.
	- "I" 또는 "A"를 누른 후 문서를 수정한다.
	- 그런데 실수로 잘못 수정했다. 수정한 내용을 저장하지 않고 VI 에디터를 닫으려면 "Esc"를 누른 후 ":q!"를 입력하고 "Enter"를 누르면 된다.
	
- step7
	- exit 명령을 입력해서 터미널을 닫는다.

> CentOS에 포함된 vi 에디터의 경우, 기존 vi 에디터의 기능을 향상시킨 vim (Vi IMproved) 에디터가 정확한 명칭이다. 하지만 vi 명령을 입력해도 자동으로 vim 에디터가 실행되므로 앞으로 그냥 vi 에디터라고 부르겠다

### 실습2
- vi 에디터가 비정상적으로 종료되었을 때 생성되는 파일을 확인하고 조치법을 알아

- step0
	- Server를 사용하자.
	- 바탕 화면 왼쪽 위의 [현재 활동] →[터미널]을 선택해서 터미널을 연다.

- step1
	- 터미널에서 vi test1.txt 명령을 입력해 파일을 열고 "I"또는 "A"를 누른 후 아무거나 약간 수정한다. 그리고 정상적으로 종료하지 말고 터미널 오른쪽 위에 있는 \<X\>를 클릭해 비정상적으로 종료한다. 경고 창이 나오면 \<터미널 닫기\>를 클릭한다.

- step2
	- 터미널을 다시 연다.
	- 다시 vi test1.txt 명령을 입력하면 다음과 같은 창이 나온다.
	- 이 창은 기존 test1.txt 파일의 수정 작업이 정상적으로 종료되지 않았기 때문에 나타난다.
	
>  임시 스왑 파일(swap file).test1.txt.swp가 존재하는 것은 앞에서 test1.txt 파일의 수정 작업이 정상적으로 종료되지 않았기 때문이다. 즉 vi test1.txt 명령을 입력하면 자동으로 test1.txt.swp가 생성되며, vi 에디터를 정상적으로 종료하면 이 파일은 자동으로 제거된다. 그러므로 이 파일이 남아 있다는 것은 기존 작업이 정상적으로 종료되지 않았다는 의미다. 참고로 파일 이름 앞에 '.'가 붙으면 숨김 파일을 뜻한다. 
	- "Space bar"를 몇 번 누른 후 "Esc"를 누르고 ":q!"를 입력해서 일단 vi 에디터를 닫는다.

- step3
	- 비정상 종료된 파일의 스왑 파일 이름은 '파일 이름.swp'다. 그러므로 test1.txt의 스왑 파일은 .test1.txt.swp다. Is -a 명령을 입력해 파일을 확인하고 rm -f .test1.txt.swp 명령을 입력해 해당 스왑 파일을 삭제하자.
	
- step4
	- 이제는 test1.txt 파일을 정상적으로 편집할 수 있을 것이다. 가끔 만날 수 있는 상황이므로 잘 기억해두자.

- 이렇게 해서 vi 에디터의 기본 사용법을 확인해보았다. 그런데 vi 에디터는 지금 소개한 것보다 훨씬 많은 기능을 제공한다. 명령 모드에서 입력 모드로 전환하는 명령들을 요약하면 다음과 같다. 여러 개가 있지만 "I" 나 "A"정도만 주로 사용한다.

#### 명령 모드에서 입력 모드로 전환하기 위한 키 입력

|키|설명|키|설명|
|----|------|----|------|
|i|현재 커서의 위치부터 입력|I|현재 커서 줄의 맨 앞에서부터 입력(Shift + i)|
|a|현재 커서의 위치 다음 칸부터 입력|A|현재 커서 줄의 맨 마지막부터 입력(Shift + a)|
|o|현재 커서의 다음 줄에서 입력|O|현재 커서의 이전 줄에 입력(Shift + o)|
|s|현재 커서 위치의 한 글자를 지우고 입력|S|현재 커서의 한 줄을 지우고 입력(Shift + s)|


- 명령 모드에서 커서를 이동할 때는 4개의 화살표 키와 [Page Up] / [Page Down] 등을 이용하면 되지만, 그 외에도 일반 키보드로 그러한 효과를 낼 수 있다. 아주 오래 전에 만들어진 키보드에는 화살표 키나 [Page Up] / [Page Down]이 없는 것도 있어 만들어진 기능이다. 요즘 키보드는 대부분 화살표 키와 [Page Up], [Page Down], [Home], [End]가 있으므로 다음 표에서 아래 두 줄을 잘 기억하면 편리하게 사용할 수 있다.

|키|설명|키|설명|
|----|------|----|------|
|h|커서를 왼쪽으로 한 칸 이동과 같은 의미|j|커서를 아래로 한 칸 이동과 같은 의미|
|k|커서를 위로 한 칸 이동과 같은 의미|l|커서를 오른쪽으로 한 칸 이동과 같은 의미|
|Ctrl + F|다음 화면으로 이동[Page Down]과 같은 의미|Ctrl + B|이전 화면으로 이동 ([Page Up]과 같은 의미)|

## 도움말 사용법

## 마운트와 CD/DVD/USB 활용